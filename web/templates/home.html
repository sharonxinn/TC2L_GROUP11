<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../static/home.css">
    <title>Home</title>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
</head>
<body class="active-popout">
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        <div class="flashes show" id="flashes">
            {% for category, message in messages %}
                <div class="flash {{ category }}">
                    {{ message }}
                    <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span>
                </div>
            {% endfor %}
        </div>
    {% endif %}
    {% endwith %}

    <script>
        function hideFlashes() {
            const flashes = document.getElementById('flashes');
            if (flashes) {
                // Set a timeout to hide the flashes after 3 seconds (3000 milliseconds)
                setTimeout(() => {
                    flashes.style.opacity = '0';
                    setTimeout(() => {
                        flashes.style.display = 'none';
                    }, 600);
                }, 3000);
            }
        }
        hideFlashes();
    </script>

    <div class="popout" id="popout">
        <div class="msg">
            <button class="close-btn">&times;</button>
            <h2>Please use laptop for a better version of design.</h2>
            <p>Thank you and sorry for the inconvenience.</p>
        </div>
    </div>

    <script>
        // Check if the popout has been shown in this session
        if (!sessionStorage.getItem("popoutShown")) {
            document.body.classList.add("active-popout"); // Show popout
            document.getElementById("popout").style.display = "flex"; // Ensure popout is visible

            document.querySelector(".popout .close-btn").addEventListener("click", function(){
                document.body.classList.remove("active-popout");
                document.querySelector(".popout").style.display = "none";

                // Store a flag in localStorage to prevent popout in the future
                sessionStorage.setItem("popoutShown", "true");
            });
        } else {
            // Hide the popout if it has been shown before
            document.getElementById("popout").style.display = "none";
            document.body.classList.remove("active-popout");
        }
    </script>

    <div class="main">
        <header>
            <h2 class="logo">MMU Carpooling</h2>
            <nav class="top-nav">
                <div class="menu">
                    <i class='bx bx-menu'></i>
                </div>
                <div class="list">
                    <a href="/">Home<span></span></a>
                    <a href="#about">About<span></span></a>
                    <a href="/signup">Sign Up<span></span></a>
                    <a href="/login" class="bright">Log In<span></span></a>
                </div>
            </nav>
            <script src="https://code.jquery.com/jquery-3.7.1.js"></script>
            <script type = "text/javascript">
                $(document).ready(function(){
                    $('.menu').click(function(){
                        $('.list').toggleClass('active');
                    })
                })
            </script>
        </header>

        <section class="center">
            <h1 id="text">MMU Carpooling</h1>

            <div class="car-pic">
                <img src="../static/pic&video/3.webp" class="car" data-value="15">
                <img src="../static/pic&video/4.webp" class="car" data-value="-20">
                <img src="../static/pic&video/5.png" class="car" data-value="-30">
                <img src="../static/pic&video/6.png" class="car" data-value="15">
                <img src="../static/pic&video/8.webp" class="car" data-value="-25">
                <img src="../static/pic&video/13.webp" class="car" data-value="20">
            </div>
        </section>
        <script type="text/javascript">
            document.addEventListener("mousemove", center);
            function center(e){
                document.querySelectorAll(".car").forEach(function(move){

                    var moving_value = move.getAttribute("data-value");
                    var x = (e.clientX * moving_value) / 500;
                    var y = (e.clientY * moving_value) / 500;

                    move.style.transform ="translateX(" + x + "px) translateY(" + y + "px)";
                });
            }
        </script>
        <div class="background">
            <section id="about">
                <h2>About Us</h2>
                <p>Welcome to MMU Carpooling, where we believe in making travel more efficient, eco-friendly, and affordable for everyone. Our mission is to connect people who are headed in the same direction, offering a smart solution to the daily commute and long-distance travel.</p>
            </section>
                
            <div class="container">
                <div class="card">
                    <div class="info">
                        <h2>01</h2>
                        <h3>Why We Started</h3>
                        <p>Traffic congestion, rising fuel costs, and environmental concerns are challenges many of us face daily. We started this service to provide a practical alternative to traditional commuting. By sharing rides, we help reduce the number of vehicles on the road, cut down on emissions, and make travel more enjoyable.</p>
                    </div>
                </div>

                <div class="card">
                    <div class="info">
                        <h2>02</h2>
                        <h3>What We Offer</h3>
                        <p>Our platform is designed to make carpooling easy, safe, and convenient. Whether youâ€™re looking to share a ride for your daily commute or planning a road trip, we match you with people going the same way. With flexible options for scheduling, payment, and route preferences, our service adapts to your needs.</p>
                    </div>
                </div>
                <div class="card">
                    <div class="info">
                        <h2>03</h2>
                        <h3>Our Community</h3>
                        <p>At the heart of our service is a community of responsible and eco-conscious individuals. We prioritize safety and trust, with verified profiles, ratings, and a robust support system. By joining our community, you're not just sharing a ride; you're part of a movement towards a greener, more connected world.</p>
                    </div>
                </div>
                <div class="card">
                    <div class="info">
                        <h2>04</h2>
                        <h3>Join Us</h3>
                        <p>Ready to make your commute more sustainable and less stressful? Sign up today and discover the benefits of carpooling with MMU Carpooling. Together, we can reduce our carbon footprint, save money, and create a better travel experience.</p>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>