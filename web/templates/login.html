<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../static/login.css">
    <title>Login</title>
    <link href='https://unpkg.com/boxicons@2.1.4/css/boxicons.min.css' rel='stylesheet'>
    <script type="module" src="https://unpkg.com/ionicons@7.1.0/dist/ionicons/ionicons.esm.js"></script>
</head>

<body>
    <div class="logout">
        <a href="home.html">
            <input type="image" src="../static/logout icon.png" width="50px" height="50px">
        </a>
    </div>
    {% with messages = get_flashed_messages(with_categories=true) %}
    {% if messages %}
        <div class="flashes show"> 
            {% for category, message in messages %}
                <div class="flash {{ category }}">
                    {{ message }}
                    <span class="closebtn" onclick="this.parentElement.style.display='none';">&times;</span>
                </div>
            {% endfor %}
        </div>
    {% endif %}
    {% endwith %}

    <div class="outer">
        <div class="inner">

            <div class="left">
                <video src="../static/pic&video/video.mp4" muted autoplay loop id="carvideo"></video>
            </div>

            <script>
                let vid = document.getElementById("carvideo");
                vid.playbackRate = 2;
            </script>

            <div class="right">
                <div class="right-word">
                    <h2 align="center">Log In</h2>

                    <form method="POST" action="/login">
                        <div class="typing">
                            <i class='bx bxs-envelope'></i>
                            <input type="email" class="form-control" id="email" name="email" placeholder="Email Address" required>
                        </div>

                        <div class="typing">
                            <i class='bx bxs-lock-alt'></i>
                            <ion-icon name="eye-off-outline" id="eyeicon"></ion-icon>
                            <input type="password" class="form-control" id="password" name="password" placeholder="Password" required>
                        </div>

                        <script>
                            let eyeicon = document.getElementById("eyeicon");
                            let password = document.getElementById("password");

                            eyeicon.onclick = function() {
                                if (password.type == "password") {
                                    password.type = "text";
                                    eyeicon.setAttribute('name', 'eye-outline');
                                } else {
                                    password.type = "password";
                                    eyeicon.setAttribute('name', 'eye-off-outline');
                                }
                            }
                        </script>

                        <div class="rmb-forgot">
                            <label for="remember">
                                <input type="checkbox" id="remember">
                                Remember Me
                            </label>
                            <a href="/forgotpassword">Forgot Password?</a>
                        </div>

                        <button type="submit" class="btn">Log In</button>

                        <p class="signup">
                            Don't have an account?
                            <a href="/signup">Sign Up</a>
                        </p>
                    </form>
                </div>
            </div>
        </div>


        <script>
          let vid = document.getElementById("carvideo");
          vid.playbackRate = 2;
        </script>

        <div class="right">
          <div class="right-word">
            <h2 align="center">Log In</h2>

            <form method="POST">
            <form name="input" action="#" method="get">

              <div class="typing">
                <i class='bx bxs-envelope'></i>
                <input type="email" class="form-control" id="email" name="email" placeholder="Email Address" required>
              </div>

              <div class="typing">
                <i class='bx bxs-lock-alt' ></i>
                <ion-icon name="eye-off-outline" id="eyeicon"></ion-icon>
                <input type="password" class="form-control" id="password" name="password" placeholder="Password" required>
              </div>

              <script>
                let eyeicon = document.getElementById("eyeicon");
                let password = document.getElementById("password");

                eyeicon.onclick = function(){
                  if(password.type == "password"){
                    password.type = "text";
                    eyeicon.setAttribute('name', 'eye-outline');
                  }else{
                    password.type = "password";
                    eyeicon.setAttribute('name', 'eye-off-outline')
                  }
                }
              </script>

              <div class="rmb-forgot">
                  <label for="remember">
                      <input type="checkbox" id="remember">
                      Remember Me
                  </label>
                  <a href="/forgotpassword">Forgot Password?</a>
              </div>

              <a href="/dashboard">
                  <button type="submit" class="btn">Log In</button>
              </a>

              <p class ="signup">
                Don't have an account?
                <a href="/signup">Sign Up</a>
              </p>
            </form>
            </form>
          </div>
        </div>
      </div>

    </div>

    <style>
        .flashes {
            margin: 0; /* Remove default margin */
            padding: 0; /* Remove default padding */
            display: none; /* Hide by default */
        }

        .flashes.show {
            margin: 20px;
            display: block; /* Show when there are messages */
        }

        .flash {
            padding: 15px;
            margin-bottom: 10px;
            border: 10px solid transparent;
            border-radius: 4px;
            position: relative;
        }

        .flash.success {
            color: #155724;
            background-color: #d4edda;
            border-color: #c3e6cb;
        }

        .flash.error {
            color: #721c24;
            background-color: #f8d7ee;
            border-color: #f5c6cb;
        }

        .closebtn {
            position: absolute;
            top: 10px;
            right: 10px;
            color: #aaa;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
        }

        .closebtn:hover {
            color: black;
        }
    </style>
</body>

</html>
